{"timestamp": "2025-03-19T01:40:10.882172", "level": "INFO", "message": "Successfully set Spotify tokens", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:40:10.960556", "level": "INFO", "message": "Successfully retrieved track info for: Weekend!", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:40:10.960598", "level": "INFO", "message": "Requesting audio features for track 5tStvY8Ojmf7xACYk2OPGp", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:40:11.007241", "level": "ERROR", "message": "Access denied to audio-features/5tStvY8Ojmf7xACYk2OPGp: Access denied", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:40:11.007301", "level": "ERROR", "message": "Error getting track features: 500: Access denied to audio-features/5tStvY8Ojmf7xACYk2OPGp: Access denied", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:40:11.007325", "level": "ERROR", "message": "Error getting track features: 500: Access denied to audio-features/5tStvY8Ojmf7xACYk2OPGp: Access denied", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:40:11.007940", "level": "ERROR", "message": "Error searching similar tracks: name 'search_similar_tracks' is not defined", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:40:52.593405", "level": "INFO", "message": "Generated Spotify authorization URL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T01:42:45.815717", "level": "INFO", "message": "Generated Spotify authorization URL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T02:11:10.474451", "level": "INFO", "message": "Generated Spotify authorization URL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T02:11:49.543009", "level": "INFO", "message": "Generated Spotify authorization URL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-03-19T02:11:51.361343", "level": "INFO", "message": "Generated Spotify authorization URL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:34:41.999963", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:34:42.007331", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:34:42.010534", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:34:50.973010", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:34:50.977445", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:34:50.980757", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:35:32.044036", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:35:32.049365", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:35:32.052826", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:36:17.737896", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:36:17.742462", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T17:36:17.745935", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:34:55.052773", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:34:55.059303", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:34:55.062403", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.084640", "level": "INFO", "message": "Processing uploaded file: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.084699", "level": "INFO", "message": "File content type: application/octet-stream", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.084728", "level": "INFO", "message": "Using file extension: .mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.084944", "level": "INFO", "message": "Created temporary file at: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpgfgxkbva.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.084970", "level": "INFO", "message": "Reading uploaded file content", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.085785", "level": "INFO", "message": "Read 5239637 bytes from uploaded file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.085823", "level": "INFO", "message": "Content sample (first 50 bytes): b'ID3\\x02\\x00\\x00\\x007l<TT2\\x00\\x00\\x0e\\x0001 LOVE SONG\\x00TP1\\x00\\x00\\x0b\\x00LANI HALL\\x00TAL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.087034", "level": "INFO", "message": "Successfully wrote 5239637 bytes to temporary file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.087094", "level": "INFO", "message": "Temporary file permissions: 600", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.087123", "level": "INFO", "message": "Starting AcoustID recognition for /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpgfgxkbva.mp3...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.471619", "level": "INFO", "message": "AcoustID recognized track with score: 1.0", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.471706", "level": "WARNING", "message": "AcoustID result found, but no recording metadata available.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.473181", "level": "INFO", "message": "Cleaned up temporary file: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpgfgxkbva.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:06.473209", "level": "WARNING", "message": "Recognition failed: No track recognized. Returning 404 error.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:12.136944", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:12.140008", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:12.143073", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:26.216741", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:26.219849", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:26.222875", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.166058", "level": "INFO", "message": "Processing uploaded file: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.166117", "level": "INFO", "message": "File content type: application/octet-stream", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.166145", "level": "INFO", "message": "Using file extension: .mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.166369", "level": "INFO", "message": "Created temporary file at: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpodqeeomy.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.166390", "level": "INFO", "message": "Reading uploaded file content", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.167416", "level": "INFO", "message": "Read 5239637 bytes from uploaded file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.167468", "level": "INFO", "message": "Content sample (first 50 bytes): b'ID3\\x02\\x00\\x00\\x007l<TT2\\x00\\x00\\x0e\\x0001 LOVE SONG\\x00TP1\\x00\\x00\\x0b\\x00LANI HALL\\x00TAL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.168926", "level": "INFO", "message": "Successfully wrote 5239637 bytes to temporary file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.169038", "level": "INFO", "message": "Temporary file permissions: 600", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.169069", "level": "INFO", "message": "Starting AcoustID recognition for /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpodqeeomy.mp3...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.489099", "level": "INFO", "message": "AcoustID recognized track with score: 1.0", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.489199", "level": "WARNING", "message": "AcoustID result found, but no recording metadata available.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.489623", "level": "INFO", "message": "Cleaned up temporary file: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpodqeeomy.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:35:29.489666", "level": "WARNING", "message": "Recognition failed: No track recognized. Returning 404 error.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.335612", "level": "INFO", "message": "Processing uploaded file: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.335664", "level": "INFO", "message": "File content type: application/octet-stream", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.335692", "level": "INFO", "message": "Using file extension: .mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.335839", "level": "INFO", "message": "Created temporary file at: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmp6ih29nkn.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.335863", "level": "INFO", "message": "Reading uploaded file content", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.336549", "level": "INFO", "message": "Read 5239637 bytes from uploaded file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.336577", "level": "INFO", "message": "Content sample (first 50 bytes): b'ID3\\x02\\x00\\x00\\x007l<TT2\\x00\\x00\\x0e\\x0001 LOVE SONG\\x00TP1\\x00\\x00\\x0b\\x00LANI HALL\\x00TAL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.337368", "level": "INFO", "message": "Successfully wrote 5239637 bytes to temporary file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.337413", "level": "INFO", "message": "Temporary file permissions: 600", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.337438", "level": "INFO", "message": "Starting AcoustID recognition for /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmp6ih29nkn.mp3...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.715973", "level": "INFO", "message": "AcoustID recognized track with score: 1.0", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.716078", "level": "WARNING", "message": "AcoustID result found, but no recording metadata available.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.717709", "level": "INFO", "message": "Cleaned up temporary file: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmp6ih29nkn.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:36:46.717753", "level": "WARNING", "message": "Recognition failed: No track recognized. Returning 404 error.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.351612", "level": "INFO", "message": "Processing uploaded file: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.351872", "level": "INFO", "message": "File content type: application/octet-stream", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.351900", "level": "INFO", "message": "Using file extension: .mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.352314", "level": "INFO", "message": "Created temporary file at: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmp2tkxbvn9.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.352337", "level": "INFO", "message": "Reading uploaded file content", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.353398", "level": "INFO", "message": "Read 5239637 bytes from uploaded file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.353435", "level": "INFO", "message": "Content sample (first 50 bytes): b'ID3\\x02\\x00\\x00\\x007l<TT2\\x00\\x00\\x0e\\x0001 LOVE SONG\\x00TP1\\x00\\x00\\x0b\\x00LANI HALL\\x00TAL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.354601", "level": "INFO", "message": "Successfully wrote 5239637 bytes to temporary file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.354665", "level": "INFO", "message": "Temporary file permissions: 600", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.354690", "level": "INFO", "message": "Starting AcoustID recognition for /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmp2tkxbvn9.mp3...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.809737", "level": "INFO", "message": "AcoustID recognized track with score: 1.0", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.809886", "level": "WARNING", "message": "AcoustID result found, but no recording metadata available.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.812132", "level": "INFO", "message": "Cleaned up temporary file: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmp2tkxbvn9.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T19:38:06.812185", "level": "WARNING", "message": "Recognition failed: No track recognized. Returning 404 error.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:18:20.696942", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:18:20.709374", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:18:20.712558", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:55.496129", "level": "INFO", "message": "Received audio file for recognition: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:55.497926", "level": "INFO", "message": "Sending request to Zyla Shazam API at https://zylalabs.com/api/2219/shazam+api/2068/recognize+song with file LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:55.497991", "level": "INFO", "message": "Original audio data size: 5239637 bytes, Sending chunk size: 512000 bytes", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:56.444789", "level": "INFO", "message": "Received response from Zyla Shazam API. Status: 200", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:56.444996", "level": "INFO", "message": "Shazam recognition successful for LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:56.445087", "level": "WARNING", "message": "Shazam recognition response did not contain track data: {'message': 'An error occurred, please try again. If the issue persists, please contact hello@zylalabs.com.', 'success': False}", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:56.445157", "level": "WARNING", "message": "Could not recognize track from file: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:21:56.445261", "level": "ERROR", "message": "Unexpected error during Shazam recognition for LOVE.mp3: 404: Could not recognize the track from the provided audio.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:23:11.051790", "level": "INFO", "message": "Received audio file for identify-and-generate: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:23:11.053253", "level": "INFO", "message": "Sending request to Zyla Shazam API at https://zylalabs.com/api/2219/shazam+api/2068/recognize+song with file LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:23:11.053363", "level": "INFO", "message": "Original audio data size: 5239637 bytes, Sending chunk size: 512000 bytes", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:23:11.879687", "level": "INFO", "message": "Received response from Zyla Shazam API. Status: 200", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:23:11.880014", "level": "INFO", "message": "Shazam recognition successful for LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:23:11.880185", "level": "WARNING", "message": "Shazam recognition response did not contain track data: {'message': 'An error occurred, please try again. If the issue persists, please contact hello@zylalabs.com.', 'success': False}", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:23:11.880362", "level": "ERROR", "message": "Unexpected error during Shazam recognition for LOVE.mp3: 404: Shazam could not recognize the track.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:24:28.884006", "level": "INFO", "message": "ID3 extraction results: {'available': True, 'title': '01 LOVE SONG', 'artist': 'LANI HALL', 'additional': {'album': 'SUNDOWN LADY  (1972)', 'genre': 'Folk'}}", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.489225", "level": "INFO", "message": "Processing uploaded file: LOVE.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.489273", "level": "INFO", "message": "File content type: audio/mpeg", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.489310", "level": "INFO", "message": "Using file extension: .mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.489714", "level": "INFO", "message": "Created temporary file at: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpyg3s2gvo.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.489735", "level": "INFO", "message": "Reading uploaded file content", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.490968", "level": "INFO", "message": "Read 5239637 bytes from uploaded file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.491008", "level": "INFO", "message": "Content sample (first 50 bytes): b'ID3\\x02\\x00\\x00\\x007l<TT2\\x00\\x00\\x0e\\x0001 LOVE SONG\\x00TP1\\x00\\x00\\x0b\\x00LANI HALL\\x00TAL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.492249", "level": "INFO", "message": "Successfully wrote 5239637 bytes to temporary file", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.492298", "level": "INFO", "message": "Temporary file permissions: 600", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.492325", "level": "INFO", "message": "Starting AcoustID recognition for /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpyg3s2gvo.mp3...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.492351", "level": "INFO", "message": "About to call AcoustID lookup with file: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpyg3s2gvo.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.884975", "level": "INFO", "message": "AcoustID result details: {'id': '3e81085c-0d06-44af-b6e4-dda073d5bc93', 'score': 1.0}", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.885086", "level": "INFO", "message": "AcoustID recognized track with score: 1.0", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.885137", "level": "WARNING", "message": "AcoustID result found, but no recording metadata available.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.885188", "level": "WARNING", "message": "Available keys in result: dict_keys(['id', 'score'])", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.885230", "level": "INFO", "message": "Attempting to extract ID3 tags from /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpyg3s2gvo.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.887635", "level": "INFO", "message": "Created recognized track from ID3 tags: {'title': '01 LOVE SONG', 'subtitle': 'LANI HALL', 'source': 'id3_tags', 'acoustid_id': '3e81085c-0d06-44af-b6e4-dda073d5bc93', 'score': 1.0, 'additional_metadata': {'album': 'SUNDOWN LADY  (1972)', 'genre': 'Folk'}}", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.889773", "level": "INFO", "message": "Cleaned up temporary file: /var/folders/kv/rh9_7j8s3cjfplt8zm30zgcc0000gn/T/tmpyg3s2gvo.mp3", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.889837", "level": "INFO", "message": "Fetching Musixmatch metadata for: 01 LOVE SONG by LANI HALL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:52.889894", "level": "INFO", "message": "Matching Musixmatch track: 01 LOVE SONG by LANI HALL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.078407", "level": "ERROR", "message": "Musixmatch API returned error status: 401 - Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.080449", "level": "ERROR", "message": "Unexpected error getting Musixmatch metadata (matcher): Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}, "exception": "Traceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 64, in get_track_metadata\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error"}
{"timestamp": "2025-04-22T20:25:53.080794", "level": "WARNING", "message": "Musixmatch API error, proceeding without enrichment: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.080883", "level": "INFO", "message": "Searching MusicBrainz for data for: '01 LOVE SONG' by 'LANI HALL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.141066", "level": "ERROR", "message": "MusicBrainz API error during recording search: caused by: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1000)>", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.141168", "level": "WARNING", "message": "MusicBrainz search call failed or returned empty for: '01 LOVE SONG' by 'LANI HALL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.141233", "level": "INFO", "message": "No suitable MusicBrainz data found via title/artist lookup for 01 LOVE SONG.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.141364", "level": "INFO", "message": "Searching Discogs for: 01 LOVE SONG by LANI HALL", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:53.141533", "level": "INFO", "message": "Searching Discogs for release data: '01 LOVE SONG' by 'LANI HALL'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:54.143432", "level": "DEBUG", "message": "Searching Discogs (master): LANI HALL 01 LOVE SONG", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:54.892748", "level": "DEBUG", "message": "Refreshing Discogs release ID: 1643446", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.748263", "level": "INFO", "message": "Extracted Discogs styles: ['Soft Rock', 'Vocal', 'Easy Listening']", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.748408", "level": "INFO", "message": "Extracted Discogs year: 1972", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.748483", "level": "INFO", "message": "Extracted Discogs image URL: https://i.discogs.com/9krko_Be5dQeEBl87j_FgVbHw_fYi37Z6eWAnzo25sU/rs:fit/g:sm/q:90/h:500/w:500/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE2NDM0/NDYtMTI4MjgyODk5/MC5qcGVn.jpeg", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.748694", "level": "INFO", "message": "Successfully retrieved Discogs data: {'discogs_id': 201043, 'styles': ['Soft Rock', 'Vocal', 'Easy Listening'], 'year': 1972, 'genres': ['Rock', 'Pop'], 'image_url': 'https://i.discogs.com/9krko_Be5dQeEBl87j_FgVbHw_fYi37Z6eWAnzo25sU/rs:fit/g:sm/q:90/h:500/w:500/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE2NDM0/NDYtMTI4MjgyODk5/MC5qcGVn.jpeg'}", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.748776", "level": "INFO", "message": "Querying Wikipedia for summary of: 01 LOVE SONG (LANI HALL song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.956435", "level": "WARNING", "message": "Wikipedia query returned invalid page data for: 01 LOVE SONG (LANI HALL song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.956519", "level": "INFO", "message": "No Wikipedia summary found for: 01 LOVE SONG (LANI HALL song). Trying title only...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:55.956556", "level": "INFO", "message": "Querying Wikipedia for summary of: 01 LOVE SONG (song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:56.148151", "level": "WARNING", "message": "Wikipedia query returned invalid page data for: 01 LOVE SONG (song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:56.148377", "level": "INFO", "message": "No Wikipedia summary found on fallback either: 01 LOVE SONG (song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:56.148599", "level": "INFO", "message": "Using AcoustID-recognized data as base for Gemini.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:56.148734", "level": "INFO", "message": "Including Discogs styles in Gemini prompt.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:56.148845", "level": "INFO", "message": "Including Discogs year in Gemini prompt.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:56.148944", "level": "INFO", "message": "Starting Gemini analysis with combined data: 01 LOVE SONG...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:56.149498", "level": "DEBUG", "message": "Sending prompt to Gemini: \n\n        Analyze the song \"01 LOVE SONG\" by \"LANI HALL\". You have the following metadata:\n        - Musixmatch Data: {'title': '01 LOVE SONG', 'artist': 'LANI HALL', 'genres': [], 'instrumental': None, 'rating': None}\n        - MusicBrainz Data: Not Available\n        - Discogs Data:  Released around 1972. Discogs styles include: Soft Rock, Vocal, Easy Listening.\n\n        Synthesize insights from the available structured data AND your internal knowledge base to perform the following tasks:\n\n        1.  **Provide a SPECIFIC technical description (3-4 sentences)** focusing on objective musical characteristics useful for finding similar *royalty-free* music. \n            *   Synthesize information from Musixmatch genres, Discogs genres/styles, and MusicBrainz tags to determine the most likely subgenre(s) and overall sound.\n            *   **Use your internal knowledge** about the song and artist to enrich the description with details about characteristic instrumentation (e.g., specific synth models used, unique guitar sounds), production techniques (e.g., reverb style, drum machine sound), or common interpretations/cultural context, *if known and relevant*.\n            *   Use the Discogs year for era context.\n            *   Infer distinctive instrumentation (beyond basic drums/bass/guitar) and vocal styles (e.g., falsetto, rap, male/female lead, harmonies) if implied by the combined metadata (artist, genre, styles, era) **or your internal knowledge**.\n            *   Estimate tempo range and primary mood/energy based on the synthesized understanding.\n            *   Example: Instead of 'Pop song with vocals', aim for 'Upbeat 80s synth-pop with prominent synthesizers (like Juno or DX7 sounds), gated reverb drums, and a clear male lead vocal'. Instead of 'Funk track', aim for 'Minimalist mid-80s funk with a distinctive falsetto vocal, LinnDrum machine beat, and sparse, clean guitar riff'.\n            *   Prioritize provided metadata, but enhance with verifiable internal knowledge. Avoid pure speculation.\n            *   Do NOT mention if the track is explicit.\n\n        2.  **Generate a list of 6-8 SPECIFIC keywords** (tags) suitable for searching a royalty-free music library. Keywords MUST reflect the synthesized understanding of the track.\n            *   **Prioritize Specificity:** Start with the most specific Genre/Style terms available (Discogs Styles first, then Musixmatch Genres, then Discogs Genres, then relevant MusicBrainz tags).\n            *   Add 1-2 keywords reflecting the primary Mood/Energy (e.g., 'upbeat', 'melancholic', 'driving', 'chill').\n            *   Add 1 keyword reflecting the Era (using Discogs Year if available, e.g., '80s', '2010s').\n            *   Add 1-2 keywords for distinctive Instrumentation or Production elements identified (e.g., 'synthesizer', 'falsetto', 'drum machine', 'gated reverb', 'LinnDrum').\n            *   Add 'vocal' or 'instrumental' based on the input flag.\n            *   Ensure keywords are common search terms. Output *only* the keywords as a JSON list of strings.\n\n        Example Input Data (Depeche Mode): {...} # Keep existing example\n        Example Input Data (Prince - Kiss): { 'title': 'Kiss', 'artist': 'Prince', 'genres': [], 'instrumental': False, 'rating': 63, 'discogs_styles': ['Funk'], 'discogs_year': 1986, 'discogs_genres': ['Funk / Soul', 'Pop'] }\n        Example Output (Prince - Kiss): \n        {\n          \"description\": \"A minimalist mid-80s funk track (1986) featuring a distinctive falsetto vocal. The arrangement likely relies heavily on a syncopated drum machine beat and a signature funky guitar riff, with less emphasis on bass compared to traditional funk. The mood is upbeat, confident, and danceable.\",\n          \"keywords\": [\"Funk\", \"Minimal Funk\", \"80s\", \"Falsetto\", \"Upbeat\", \"Danceable\", \"Vocal\", \"Drum Machine\"]\n        }\n\n        Input Data: {\"title\": \"01 LOVE SONG\", \"artist\": \"LANI HALL\", \"discogs_styles\": [\"Soft Rock\", \"Vocal\", \"Easy Listening\"], \"discogs_year\": 1972}\n        Output (JSON):\n        ", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:57.550925", "level": "DEBUG", "message": "Raw Gemini response: ```json\n{\n  \"description\": \"A 1972 soft rock vocal track with a mellow and romantic mood.  The instrumentation likely features acoustic and possibly electric guitars with a smooth, laid-back feel, likely employing gentle percussion and perhaps strings or light horns for added texture. Lani Hall's vocals are known for their smooth, sophisticated delivery, and the overall sound is likely characterized by a warm, intimate atmosphere, typical of early 1970s easy listening productions.\",\n  \"keywords\": [\"Soft Rock\", \"Easy Listening\", \"Vocal\", \"70s\", \"Mellow\", \"Romantic\", \"Acoustic Guitar\", \"Smooth\"]\n}\n```\n", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:57.551356", "level": "INFO", "message": "Gemini analysis successful. Keywords: ['Soft Rock', 'Easy Listening', 'Vocal', '70s', 'Mellow', 'Romantic', 'Acoustic Guitar', 'Smooth']", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:57.551469", "level": "INFO", "message": "Searching Jamendo with keywords: ['Soft Rock', 'Easy Listening', 'Vocal', '70s', 'Mellow', 'Romantic', 'Acoustic Guitar', 'Smooth']", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:57.551559", "level": "INFO", "message": "Searching Jamendo with keywords: Soft Rock Easy Listening Vocal 70s Mellow Romantic Acoustic Guitar Smooth", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:58.273912", "level": "INFO", "message": "Found 10 tracks on Jamendo for keywords: Soft Rock Easy Listening Vocal 70s Mellow Romantic Acoustic Guitar Smooth", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:25:58.274186", "level": "INFO", "message": "File processing complete.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:42:45.965094", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:42:45.977040", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:42:45.980382", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:12.070069", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:12.078568", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:12.083355", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:13.682055", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:13.690101", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:13.693355", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:25.236329", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:25.243341", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:43:25.246538", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:45:17.233844", "level": "INFO", "message": "Processing YouTube link: string", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:45:17.234396", "level": "ERROR", "message": "Invalid YouTube URL: 400: Invalid YouTube URL format", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:46:17.389135", "level": "INFO", "message": "Processing YouTube link: https://www.youtube.com/watch?v=dQw4w9WgXcQ", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:46:17.440136", "level": "ERROR", "message": "Error getting YouTube video info: 400 Client Error: Bad Request for url: https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=dQw4w9WgXcQ&key=your_youtube_api_key_here", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T20:46:17.441979", "level": "ERROR", "message": "Error processing YouTube link: 400 Client Error: Bad Request for url: https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=dQw4w9WgXcQ&key=your_youtube_api_key_here", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}, "exception": "Traceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/api/v1/endpoints/music.py\", line 717, in process_link\n    video_info = youtube_client.get_video_info(video_id)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/youtube/client.py\", line 37, in get_video_info\n    response.raise_for_status()\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/.venv/lib/python3.12/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=dQw4w9WgXcQ&key=your_youtube_api_key_here"}
{"timestamp": "2025-04-22T21:00:14.829049", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:00:14.842078", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:00:14.846303", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:00:47.062491", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:00:47.073584", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:00:47.077134", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.292551", "level": "INFO", "message": "Processing YouTube link: https://www.youtube.com/watch?v=dQw4w9WgXcQ", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.363782", "level": "INFO", "message": "YouTube video title: Rick Astley - Never Gonna Give You Up (Official Music Video), Channel: Rick Astley", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.363864", "level": "INFO", "message": "Parsed artist: Rick Astley, title: never gonna give you up", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.363900", "level": "INFO", "message": "Searching Musixmatch for title: 'never gonna give you up', artist: 'Rick Astley'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.363953", "level": "INFO", "message": "Matching Musixmatch track: never gonna give you up by Rick Astley", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.499545", "level": "ERROR", "message": "Musixmatch API returned error status: 401 - Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.502143", "level": "ERROR", "message": "Unexpected error getting Musixmatch metadata (matcher): Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}, "exception": "Traceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 64, in get_track_metadata\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error"}
{"timestamp": "2025-04-22T21:01:33.502665", "level": "WARNING", "message": "Musixmatch search failed: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error. Falling back to track.search...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.502765", "level": "INFO", "message": "Searching Musixmatch track with query: never gonna give you up Rick Astley", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.605324", "level": "ERROR", "message": "Musixmatch API returned error status: 401 - Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.609984", "level": "ERROR", "message": "Unexpected error getting Musixmatch metadata (search): Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}, "exception": "Traceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 64, in get_track_metadata\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/api/v1/endpoints/music.py\", line 777, in process_link\n    musixmatch_metadata = await musixmatch_service.get_track_metadata(title=title, artist=artist)\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 87, in get_track_metadata\n    raise MusixmatchAPIError(f\"Unexpected error getting Musixmatch metadata: {str(e)}\")\napp.core.exceptions.MusixmatchAPIError: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 111, in search_track_by_query\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error"}
{"timestamp": "2025-04-22T21:01:33.614975", "level": "ERROR", "message": "Musixmatch fallback search also failed: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:01:33.617770", "level": "ERROR", "message": "Error processing YouTube link: 502: Metadata service failed during fallback search: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}, "exception": "Traceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 64, in get_track_metadata\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/api/v1/endpoints/music.py\", line 777, in process_link\n    musixmatch_metadata = await musixmatch_service.get_track_metadata(title=title, artist=artist)\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 87, in get_track_metadata\n    raise MusixmatchAPIError(f\"Unexpected error getting Musixmatch metadata: {str(e)}\")\napp.core.exceptions.MusixmatchAPIError: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 111, in search_track_by_query\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/api/v1/endpoints/music.py\", line 785, in process_link\n    musixmatch_metadata = await musixmatch_service.search_track_by_query(fallback_query)\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 141, in search_track_by_query\n    raise MusixmatchAPIError(f\"Unexpected error getting Musixmatch metadata: {str(e)}\")\napp.core.exceptions.MusixmatchAPIError: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/api/v1/endpoints/music.py\", line 798, in process_link\n    raise HTTPException(status_code=502, detail=f\"Metadata service failed during fallback search: {fallback_e}\")\nfastapi.exceptions.HTTPException: 502: Metadata service failed during fallback search: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error"}
{"timestamp": "2025-04-22T21:07:07.100290", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:07:07.101858", "level": "INFO", "message": "YouTube client initialized with API key: AIzaS...jY1iA", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:07:07.114356", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:07:07.117723", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:07:59.771693", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:07:59.771944", "level": "INFO", "message": "YouTube client initialized with API key: AIzaS...jY1iA", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:07:59.778958", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:07:59.782459", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:12.935178", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:12.935455", "level": "INFO", "message": "YouTube client initialized with API key: AIzaS...jY1iA", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:12.942533", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:12.945867", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.207509", "level": "INFO", "message": "Processing YouTube link: https://www.youtube.com/watch?v=dQw4w9WgXcQ", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.282956", "level": "INFO", "message": "YouTube video title: Rick Astley - Never Gonna Give You Up (Official Music Video), Channel: Rick Astley", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.283087", "level": "INFO", "message": "Parsed artist: Rick Astley, title: never gonna give you up", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.283135", "level": "INFO", "message": "Searching Musixmatch for title: 'never gonna give you up', artist: 'Rick Astley'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.283180", "level": "INFO", "message": "Matching Musixmatch track: never gonna give you up by Rick Astley", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.668799", "level": "ERROR", "message": "Musixmatch API returned error status: 401 - Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.671348", "level": "ERROR", "message": "Unexpected error getting Musixmatch metadata (matcher): Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}, "exception": "Traceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 64, in get_track_metadata\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error"}
{"timestamp": "2025-04-22T21:08:48.672283", "level": "WARNING", "message": "Musixmatch search failed: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error. Trying fallback search...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:48.672454", "level": "INFO", "message": "Searching Musixmatch track with query: never gonna give you up Rick Astley", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.057649", "level": "ERROR", "message": "Musixmatch API returned error status: 401 - Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.059642", "level": "ERROR", "message": "Unexpected error getting Musixmatch metadata (search): Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}, "exception": "Traceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 64, in get_track_metadata\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/api/v1/endpoints/music.py\", line 776, in process_link\n    musixmatch_metadata = await musixmatch_service.get_track_metadata(title=title, artist=artist)\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 87, in get_track_metadata\n    raise MusixmatchAPIError(f\"Unexpected error getting Musixmatch metadata: {str(e)}\")\napp.core.exceptions.MusixmatchAPIError: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/andy/SoundMatch/soundmatch-audio-finder/app/services/metadata/musixmatch.py\", line 111, in search_track_by_query\n    raise MusixmatchAPIError(f\"Musixmatch API error: {error_info}\")\napp.core.exceptions.MusixmatchAPIError: Musixmatch API error: Unknown Musixmatch error"}
{"timestamp": "2025-04-22T21:08:49.061153", "level": "ERROR", "message": "Musixmatch fallback search also failed: Unexpected error getting Musixmatch metadata: Musixmatch API error: Unknown Musixmatch error", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.061247", "level": "INFO", "message": "Creating basic metadata from YouTube info", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.061321", "level": "INFO", "message": "Searching MusicBrainz for data for: 'never gonna give you up' by 'Rick Astley'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.124448", "level": "ERROR", "message": "MusicBrainz API error during recording search: caused by: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1000)>", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.124716", "level": "WARNING", "message": "MusicBrainz search call failed or returned empty for: 'never gonna give you up' by 'Rick Astley'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.124882", "level": "INFO", "message": "No suitable MusicBrainz data found for never gonna give you up by Rick Astley.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:49.125142", "level": "INFO", "message": "Searching Discogs for release data: 'never gonna give you up' by 'Rick Astley'", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:50.126071", "level": "DEBUG", "message": "Searching Discogs (master): Rick Astley never gonna give you up", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:51.430077", "level": "DEBUG", "message": "Refreshing Discogs release ID: 249504", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.328166", "level": "INFO", "message": "Extracted Discogs styles: ['Euro-Disco']", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.328529", "level": "INFO", "message": "Extracted Discogs year: 1987", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.328791", "level": "INFO", "message": "Extracted Discogs image URL: https://i.discogs.com/-DPFA5hKT8i91jnjn4rLB1zSiuUBFTrGWspu1TpLV30/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI0OTUw/NC0xMzM0NTkyMjEy/LmpwZWc.jpeg", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.329635", "level": "INFO", "message": "Successfully retrieved Discogs data", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.329913", "level": "INFO", "message": "Querying Wikipedia for summary of: never gonna give you up (Rick Astley song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.526837", "level": "WARNING", "message": "Wikipedia query returned invalid page data for: never gonna give you up (Rick Astley song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.527102", "level": "INFO", "message": "No Wikipedia summary found for: never gonna give you up (Rick Astley song). Trying title only...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.527261", "level": "INFO", "message": "Querying Wikipedia for summary of: never gonna give you up (song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.707959", "level": "WARNING", "message": "Wikipedia query returned invalid page data for: never gonna give you up (song)", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.708184", "level": "INFO", "message": "Starting Gemini analysis with combined data: never gonna give you up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:52.708597", "level": "DEBUG", "message": "Sending prompt to Gemini: \n\n        Analyze the song \"never gonna give you up\" by \"Rick Astley\". You have the following metadata:\n        - Musixmatch Data: {'title': 'never gonna give you up', 'artist': 'Rick Astley', 'genres': [], 'instrumental': None, 'rating': None}\n        - MusicBrainz Data: Not Available\n        - Discogs Data:  Released around 1987. Discogs styles include: Euro-Disco.\n\n        Synthesize insights from the available structured data AND your internal knowledge base to perform the following tasks:\n\n        1.  **Provide a SPECIFIC technical description (3-4 sentences)** focusing on objective musical characteristics useful for finding similar *royalty-free* music. \n            *   Synthesize information from Musixmatch genres, Discogs genres/styles, and MusicBrainz tags to determine the most likely subgenre(s) and overall sound.\n            *   **Use your internal knowledge** about the song and artist to enrich the description with details about characteristic instrumentation (e.g., specific synth models used, unique guitar sounds), production techniques (e.g., reverb style, drum machine sound), or common interpretations/cultural context, *if known and relevant*.\n            *   Use the Discogs year for era context.\n            *   Infer distinctive instrumentation (beyond basic drums/bass/guitar) and vocal styles (e.g., falsetto, rap, male/female lead, harmonies) if implied by the combined metadata (artist, genre, styles, era) **or your internal knowledge**.\n            *   Estimate tempo range and primary mood/energy based on the synthesized understanding.\n            *   Example: Instead of 'Pop song with vocals', aim for 'Upbeat 80s synth-pop with prominent synthesizers (like Juno or DX7 sounds), gated reverb drums, and a clear male lead vocal'. Instead of 'Funk track', aim for 'Minimalist mid-80s funk with a distinctive falsetto vocal, LinnDrum machine beat, and sparse, clean guitar riff'.\n            *   Prioritize provided metadata, but enhance with verifiable internal knowledge. Avoid pure speculation.\n            *   Do NOT mention if the track is explicit.\n\n        2.  **Generate a list of 6-8 SPECIFIC keywords** (tags) suitable for searching a royalty-free music library. Keywords MUST reflect the synthesized understanding of the track.\n            *   **Prioritize Specificity:** Start with the most specific Genre/Style terms available (Discogs Styles first, then Musixmatch Genres, then Discogs Genres, then relevant MusicBrainz tags).\n            *   Add 1-2 keywords reflecting the primary Mood/Energy (e.g., 'upbeat', 'melancholic', 'driving', 'chill').\n            *   Add 1 keyword reflecting the Era (using Discogs Year if available, e.g., '80s', '2010s').\n            *   Add 1-2 keywords for distinctive Instrumentation or Production elements identified (e.g., 'synthesizer', 'falsetto', 'drum machine', 'gated reverb', 'LinnDrum').\n            *   Add 'vocal' or 'instrumental' based on the input flag.\n            *   Ensure keywords are common search terms. Output *only* the keywords as a JSON list of strings.\n\n        Example Input Data (Depeche Mode): {...} # Keep existing example\n        Example Input Data (Prince - Kiss): { 'title': 'Kiss', 'artist': 'Prince', 'genres': [], 'instrumental': False, 'rating': 63, 'discogs_styles': ['Funk'], 'discogs_year': 1986, 'discogs_genres': ['Funk / Soul', 'Pop'] }\n        Example Output (Prince - Kiss): \n        {\n          \"description\": \"A minimalist mid-80s funk track (1986) featuring a distinctive falsetto vocal. The arrangement likely relies heavily on a syncopated drum machine beat and a signature funky guitar riff, with less emphasis on bass compared to traditional funk. The mood is upbeat, confident, and danceable.\",\n          \"keywords\": [\"Funk\", \"Minimal Funk\", \"80s\", \"Falsetto\", \"Upbeat\", \"Danceable\", \"Vocal\", \"Drum Machine\"]\n        }\n\n        Input Data: {\"title\": \"never gonna give you up\", \"artist\": \"Rick Astley\", \"source\": \"youtube\", \"video_id\": \"dQw4w9WgXcQ\", \"thumbnail\": \"https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg\", \"discogs_styles\": [\"Euro-Disco\"], \"discogs_year\": 1987, \"youtube_title\": \"Rick Astley - Never Gonna Give You Up (Official Music Video)\", \"youtube_channel\": \"Rick Astley\"}\n        Output (JSON):\n        ", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:54.488227", "level": "DEBUG", "message": "Raw Gemini response: ```json\n{\n  \"description\": \"Upbeat 1987 Euro-Disco track with a prominent male lead vocal.  The song features a characteristic 80s synth sound, likely incorporating synthesizers common to the era (e.g., Roland Juno or Yamaha DX7).  A driving drum machine beat and a memorable bassline are also key elements of the production. The overall mood is optimistic and catchy.\",\n  \"keywords\": [\"Euro-Disco\", \"Synth-Pop\", \"80s\", \"Upbeat\", \"Catchy\", \"Vocal\", \"Male Vocal\", \"Synthesizer\"]\n}\n```\n", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:54.489000", "level": "INFO", "message": "Gemini analysis successful. Keywords: ['Euro-Disco', 'Synth-Pop', '80s', 'Upbeat', 'Catchy', 'Vocal', 'Male Vocal', 'Synthesizer']", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:54.489206", "level": "INFO", "message": "Searching Jamendo with keywords: ['Euro-Disco', 'Synth-Pop', '80s', 'Upbeat', 'Catchy', 'Vocal', 'Male Vocal', 'Synthesizer']", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:54.489347", "level": "INFO", "message": "Searching Jamendo with keywords: Euro-Disco Synth-Pop 80s Upbeat Catchy Vocal Male Vocal Synthesizer", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:55.101108", "level": "INFO", "message": "Found 10 tracks on Jamendo for keywords: Euro-Disco Synth-Pop 80s Upbeat Catchy Vocal Male Vocal Synthesizer", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:08:55.101278", "level": "INFO", "message": "YouTube link processing complete.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:32:34.301802", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:32:34.314003", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:32:34.317172", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:32:38.676240", "level": "INFO", "message": "Discogs client initialized successfully using Personal Access Token.", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:32:38.676722", "level": "INFO", "message": "YouTube client initialized with API key: AIzaS...jY1iA", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:32:38.683992", "level": "INFO", "message": "Gemini Service Initialized", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
{"timestamp": "2025-04-22T21:32:38.687538", "level": "INFO", "message": "FastAPI application starting up...", "context": {"request_id": null, "user_id": null, "endpoint": null, "duration_ms": null}}
